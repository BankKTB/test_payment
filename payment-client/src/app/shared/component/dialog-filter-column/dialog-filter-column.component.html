<div mat-dialog-title>
  <button (click)="closeDialog()" class="close" mat-button>X</button>
  <h1 cdkDrag cdkDragHandle cdkDragRootElement=".cdk-overlay-pane"><b>ตารางแสดงผล</b></h1>
</div>
<div mat-dialog-content>
  <div cdkDropListGroup class="sorting-dialog mb-4">
    <div class="row">
      <div class="col-5 col-md-5">
        <h2 class="submenu">เกณฑ์ฟีลเตอร์</h2>
      </div>
      <div class="col-2 col-md-2"></div>
      <div class="col-5 col-md-5">
        <h2 class="submenu">ชุดคอลัมน์</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-5 col-md-5">
        <div class="sorting-box">
          <table>
            <thead>
              <tr>
                <th class="w-10">เลือก</th>
                <th>ชื่อคอลัมน์</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let item of listShow">
                <tr class="pointer">
                  <td>
                    <mat-checkbox
                      (change)="$event ? selectionForNotShow.toggle(item) : null"
                      [aria-label]="checkboxLabelForNotShow(item)"
                      [checked]="selectionForNotShow.isSelected(item)"
                    ></mat-checkbox>
                  </td>
                  <td (click)="$event ? selectionForNotShow.toggle(item) : null">
                    {{ item.text }}
                  </td>
                  <td class="text-right">
                    <button
                      [ngClass]="{ 'have-variant': checkHaveVariantValue(item.key) }"
                      (click)="openDialogCriteria(item.key, item.typeInput, item.text)"
                      class="mat-raised-button btn btn-icon-white btn-icon"
                      matTooltip=""
                      matTooltip="กำหนดค่าสำหรับเกณฑ์ฟีลเตอร์"
                      type="button"
                    >
                      <mat-icon>filter_none</mat-icon>
                    </button>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <div class="col-2 col-md-2 arrange-btn-box p-0">
        <div class="text-center">
          <button (click)="up()" class="btn btn-arrange" type="button">
            <i class="material-icons">keyboard_arrow_up</i>
          </button>
          <button (click)="showAll()" class="btn btn-arrange btn-arrange-double" type="button">
            <i class="material-icons">arrow_left</i>
            <i class="material-icons btn-sorting-double">arrow_left</i>
          </button>
          <button (click)="showSelected()" class="btn btn-arrange" type="button">
            <i class="material-icons">arrow_left</i>
          </button>
        </div>
        <div class="text-center mt-5">
          <button (click)="notShowSelected()" class="btn btn-arrange" type="button">
            <i class="material-icons">arrow_right</i>
          </button>
          <button (click)="notShowAll()" class="btn btn-arrange btn-arrange-double" type="button">
            <i class="material-icons">arrow_right</i>
            <i class="material-icons btn-sorting-double">arrow_right</i>
          </button>
          <button (click)="down()" class="btn btn-arrange" type="button">
            <i class="material-icons">keyboard_arrow_down</i>
          </button>
        </div>
      </div>

      <div class="col-5 col-md-5">
        <div class="sorting-box">
          <table>
            <tr>
              <th class="w-10">เลือก</th>
              <th>ชื่อคอลัมน์</th>
            </tr>
            <tr *ngFor="let data of listNotShow" class="pointer">
              <td>
                <mat-checkbox
                  (change)="$event ? selectionForShow.toggle(data) : null"
                  [aria-label]="checkboxLabelForShow(data)"
                  [checked]="selectionForShow.isSelected(data)"
                >
                </mat-checkbox>
              </td>
              <td (click)="$event ? selectionForShow.toggle(data) : null">
                {{ data.text }}
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="row justify-content-end">
    <div class="col-md-1">
      <button (click)="clickSave()" class="btn btn-success btn-lg" type="button">
        บันทึก
      </button>
    </div>
    <div class="col-md-1">
      <button (click)="closeDialog()" class="btn btn-danger btn-lg" type="button">
        ปิด
      </button>
    </div>
  </div>
</div>
