<div mat-dialog-title>
  <h1 cdkDrag cdkDragHandle cdkDragRootElement=".cdk-overlay-pane">
    <b>วิธีการชำระเงิน/ประเทศ</b>
  </h1>
</div>

<div mat-dialog-content>
  <mat-card>
    <form (keydown.enter)="$event.preventDefault()" [formGroup]="payMethodConfigForm">
      <div class="row">
        <div class="col-12 col-right">
          <button (click)="openDialogPayMethodCurrencyConfig()" class="btn btn-success">
            สกุลเงิน
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <label class="text-black input-head"><b>ประเทศ : </b></label>
          <input class="form-control" formControlName="country" readonly type="text" />
        </div>
        <div class="col-md-2">
          {{ data.item.countryNameEN }}
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <label class="text-black input-head"><b>วิธีชำระเงิน : </b></label>
          <input class="form-control" formControlName="payMethod" readonly type="text" />
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <label class="text-black input-head"><b>คำอธิบาย : </b></label>
          <input class="form-control" formControlName="payMethodName" readonly type="text" />
        </div>
      </div>
      <br />
      <div class="panel panel-primary">
        <div
          (click)="panelExpandedPayMethod = !panelExpandedPayMethod"
          class="panel-heading pointer"
        >
          <h4>
            การจัดกลุ่มวิธีการชำระเงิน
            <span class="float-right"
              ><i *ngIf="!panelExpandedPayMethod" class="material-icons">add</i></span
            >
            <span class="float-right"
              ><i *ngIf="panelExpandedPayMethod" class="material-icons">remove</i></span
            >
          </h4>
        </div>
        <div *ngIf="panelExpandedPayMethod" class="panel-body">
          <div class="col-xs-12 col-md-12">
            <div class="row">
              <div class="col-12 col-md-6">
                <input [checked]="payByBoolean" formControlName="payBy" type="checkbox" />
                โอนเงินผ่านธนาคาร
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-md-12">
            <div class="row">
              <div class="col-12 col-md-6">
                <input
                  [checked]="allowedPersonnelPaymentBoolean"
                  formControlName="allowedPersonnelPayment"
                  type="checkbox"
                />
                อนุญาตสำหรับการชำระเงินบุคคล
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="panel panel-primary">
        <div
          (click)="panelExpandedMainRequest = !panelExpandedMainRequest"
          class="panel-heading pointer"
        >
          <h4>
            ข้อกำหนดความต้องการข้อมูลหลัก
            <span class="float-right"
              ><i *ngIf="!panelExpandedMainRequest" class="material-icons">add</i></span
            >
            <span class="float-right"
              ><i *ngIf="panelExpandedMainRequest" class="material-icons">remove</i></span
            >
          </h4>
        </div>
        <div *ngIf="panelExpandedMainRequest" class="panel-body">
          <div class="col-xs-12 col-md-12">
            <div class="row">
              <div class="col-12 col-md-6">
                <input [checked]="bankDetailBoolean" formControlName="bankDetail" type="checkbox" />
                รายละเอียดธนาคาร
              </div>
            </div>
          </div>
          <br />
        </div>
      </div>
      <div class="panel panel-primary">
        <div (click)="panelExpandedBankInfo = !panelExpandedBankInfo" class="panel-heading pointer">
          <h4>
            รายละเอียดการผ่านรายการ
            <span class="float-right"
              ><i *ngIf="!panelExpandedBankInfo" class="material-icons">add</i></span
            >
            <span class="float-right"
              ><i *ngIf="panelExpandedBankInfo" class="material-icons">remove</i></span
            >
          </h4>
        </div>
        <div *ngIf="panelExpandedBankInfo" class="panel-body">
          <div class="row">
            <div class="col-md-4">
              <label class="text-black input-head"><b>ประเภทเอกสารสำหรับการชำระเงิน</b></label>
              <input
                [matAutocomplete]="auto"
                class="form-control"
                formControlName="documentTypeForPayment"
                maxLength="2"
                type="text"
              />
              <mat-autocomplete #auto="matAutocomplete">
                <mat-option *ngFor="let document of listDoctype" [value]="document.valueCode">
                  {{ document.valueCode }}
                </mat-option>
              </mat-autocomplete>
            </div>
          </div>
        </div>
      </div>
    </form>
    <div class="d-flex justify-content-center mb-2">
      <button
        (click)="clickSave(payMethodConfigForm.value)"
        class="btn btn-success btn-w120"
        type="button"
      >
        บันทึก
      </button>
      <button (click)="clickCancel()" class="btn btn-danger btn-w120" type="button">
        ยกเลิก
      </button>
    </div>
    <div class="d-flex justify-content-center">
      <button (click)="clickConfirm()" class="btn btn-primary btn-w120">ตกลง</button>
    </div>
  </mat-card>
</div>
